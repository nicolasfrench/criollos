<section class="bg-white p-6 rounded-lg shadow mb-8">
  <h2 class="text-2xl font-semibold mb-2">Curso: Fundamentos en Explotación de Datos</h2>
  <p class="mb-4">Duración: 10 clases de 1 hora. Modalidad: virtual.</p>

  <!-- Botón para mostrar detalle -->
  <button onclick="toggleModal(true)" class="text-blue-600 underline mb-4">Ver detalle del curso</button>

  <!-- Formulario embebido -->
  <iframe src="https://docs.google.com/forms/d/e/FORM_ID/viewform?embedded=true" width="100%" height="800" frameborder="0" marginheight="0" marginwidth="0">Cargando…</iframe>

  <!-- Mostrar cupo -->
  <div id="cupo" class="text-sm text-blue-600 mt-4">Cupo actual: cargando...</div>
</section>

<!-- Modal oculto -->
<div id="modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
  <div class="bg-white p-6 rounded-lg max-w-xl mx-auto relative">
    <button onclick="toggleModal(false)" class="absolute top-2 right-2 text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
    <h3 class="text-xl font-bold mb-4">Detalle del curso</h3>
    <p class="text-gray-700 text-sm leading-relaxed">
      Este curso está diseñado para profesionales que quieran dominar los fundamentos de la explotación de datos en entornos empresariales. Aprenderás:
    </p>
    <ul class="list-disc pl-5 mt-3 text-sm text-gray-600">
      <li>Evolución histórica de la explotación de datos</li>
      <li>Diferencias entre data lake, data warehouse y data mesh</li>
      <li>Tipos de análisis (descriptivo, diagnóstico, predictivo, prescriptivo)</li>
      <li>Herramientas prácticas como Excel, SQL, Tableau y Power BI</li>
    </ul>
  </div>
</div>

<!-- Script para mostrar/ocultar modal -->
<script>
  function toggleModal(show) {
    const modal = document.getElementById("modal");
    if (show) {
      modal.classList.remove("hidden");
      modal.classList.add("flex");
    } else {
      modal.classList.add("hidden");
      modal.classList.remove("flex");
    }
  }

  // Cupo desde Google Sheets CSV
  const cupoMaximo = 30;
  const urlCSV = "https://docs.google.com/spreadsheets/d/e/TU_ID_DE_PUB/export?format=csv";

  fetch(urlCSV)
    .then(response => response.text())
    .then(data => {
      const filas = data.trim().split("\n").length - 1;
      const cupoTexto = document.getElementById("cupo");
      if (filas >= cupoMaximo) {
        cupoTexto.textContent = "¡Cupo completo!";
        document.querySelector("iframe").style.display = "none";
      } else {
        cupoTexto.textContent = `Cupo actual: ${filas} / ${cupoMaximo}`;
      }
    });
</script>

